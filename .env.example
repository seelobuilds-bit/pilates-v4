# ---------------------------------------------
# Copy this file to .env.local and fill values
# ---------------------------------------------

# Runtime DB connection (transaction pooler)
DATABASE_URL="postgresql://postgres.<project-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"

# Direct DB connection (Prisma migrations/introspection)
DIRECT_URL="postgresql://postgres.<project-ref>:<password>@db.<project-ref>.supabase.co:5432/postgres"

# Optional explicit env URLs for scripts
SUPABASE_STAGING_DATABASE_URL="postgresql://postgres.<staging-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
SUPABASE_STAGING_DIRECT_URL="postgresql://postgres.<staging-ref>:<password>@db.<staging-ref>.supabase.co:5432/postgres"
SUPABASE_PROD_DATABASE_URL="postgresql://postgres.<prod-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"
SUPABASE_PROD_DIRECT_URL="postgresql://postgres.<prod-ref>:<password>@db.<prod-ref>.supabase.co:5432/postgres"

# Supabase storage (server-side uploads)
SUPABASE_URL="https://<project-ref>.supabase.co"
SUPABASE_SERVICE_ROLE_KEY="replace-with-service-role-key"
SUPABASE_STORAGE_BUCKET="uploads"

# Optional one-time media migration source filter (comma-separated)
MIGRATION_SOURCE_HOSTS="blob.vercel-storage.com,vercel-storage.com"

# Auth/session
NEXTAUTH_SECRET="replace-me"
NEXTAUTH_URL="http://localhost:3000"
JWT_SECRET="replace-me"

# Stripe
STRIPE_SECRET_KEY="replace-me"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="replace-me"

# Resend
RESEND_API_KEY="replace-me"
RESEND_WEBHOOK_SECRET="replace-me"

# Optional: Expo push service access token for server-side delivery
EXPO_PUSH_ACCESS_TOKEN=""

# Integration tests
TEST_BOOKING_SUBDOMAIN="zenith"

# Optional: demo environment source studio (for /demo pages on homepage)
DEMO_STUDIO_SUBDOMAIN="zenith"

# ---------------------------------------------
# Social media OAuth + ingestion + hooks
# ---------------------------------------------

# SIMULATED_BETA (default) or LIVE
SOCIAL_MEDIA_MODE="SIMULATED_BETA"
NEXT_PUBLIC_SOCIAL_MEDIA_MODE="SIMULATED_BETA"

# State signing secret for social OAuth (fallback to NEXTAUTH_SECRET if omitted)
SOCIAL_OAUTH_STATE_SECRET="replace-me"

# Instagram OAuth (Basic Display / Graph profile sync)
SOCIAL_INSTAGRAM_CLIENT_ID=""
SOCIAL_INSTAGRAM_CLIENT_SECRET=""
# Optional override (otherwise auto-derived: <origin>/api/social-media/oauth/callback/instagram)
SOCIAL_INSTAGRAM_REDIRECT_URI=""
SOCIAL_INSTAGRAM_SCOPES="user_profile,user_media"

# TikTok OAuth
SOCIAL_TIKTOK_CLIENT_KEY=""
SOCIAL_TIKTOK_CLIENT_SECRET=""
# Optional override (otherwise auto-derived: <origin>/api/social-media/oauth/callback/tiktok)
SOCIAL_TIKTOK_REDIRECT_URI=""
SOCIAL_TIKTOK_SCOPES="user.info.basic,video.list"

# Optional provider URL overrides
SOCIAL_INSTAGRAM_AUTHORIZE_URL=""
SOCIAL_INSTAGRAM_TOKEN_URL=""
SOCIAL_TIKTOK_AUTHORIZE_URL=""
SOCIAL_TIKTOK_TOKEN_URL=""

# Live outbound messaging
SOCIAL_INSTAGRAM_MESSAGES_ENABLED="0"
SOCIAL_INSTAGRAM_GRAPH_API_BASE_URL="https://graph.facebook.com/v21.0"
SOCIAL_TIKTOK_SEND_MESSAGE_URL=""
SOCIAL_TIKTOK_SEND_MESSAGE_TOKEN=""

# Trending ingest provider: APIFY or CUSTOM
SOCIAL_TRENDING_PROVIDER="CUSTOM"

# CUSTOM provider endpoint returning JSON array (or {items:[...]})
SOCIAL_TRENDING_SOURCE_URL=""
SOCIAL_TRENDING_SOURCE_TOKEN=""

# APIFY provider (if SOCIAL_TRENDING_PROVIDER=APIFY)
SOCIAL_TRENDING_APIFY_TOKEN=""
SOCIAL_TRENDING_APIFY_ACTOR_ID=""

# Optional transcript API used by hooks endpoint (POST {url} -> {transcript})
SOCIAL_TRANSCRIBE_API_URL=""
SOCIAL_TRANSCRIBE_API_TOKEN=""

# Optional AI hook extraction
SOCIAL_HOOK_AI_ENABLED="0"
SOCIAL_HOOK_AI_MODEL="gpt-4o-mini"

# If enabled, hook cron ingests trending content first
SOCIAL_HOOKS_INGEST_FIRST="0"
